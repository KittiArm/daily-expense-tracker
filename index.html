<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Daily Expense</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
	<main class="container">
		<div class="card my-5">
			<div class="card-header">
				<h5>Monthly Expense <span id="total_order_text">(0)</span></h5>
			</div>
			<div class="card-body">
				<div class="row">
					<div class="input-group">
						<span class="input-group-text">รายการ</span>
						<input type="text" class="form-control" id="order" placeholder="กรุณากรอกรายการค่าใช้จ่าย">
						<span class="input-group-text">ราคา (บาท)</span>
						<input type="number" class="form-control" id="expense" placeholder="0.00">
						<button class="btn btn-success" type="button" onclick="addOrder()">เพิ่ม</button>
					</div>
				</div>
				<div class="row mt-3">
					<blockquote class="blockquote">
						<p>Order Expense</p>
					</blockquote>
					<figure id="expense_order">
						<div><figcaption class="blockquote-footer"><cite>No data added</cite></figcaption></div>
					</figure>
				</div>
			</div>
			<div class="card-footer">
				<b><span>Order Expense : ฿<span id="total_expense_text">0.00</span></span></b>
			</div>
		</div>
	</main>
	
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>

	<script>
		let total_expense = 0.00;
		let total_order = 0;


		function addOrder() {
			const total_expense_text = document.getElementById("total_expense_text");
			const total_order_text = document.getElementById("total_order_text");
			const order = document.getElementById("order").value.trim();
			const expense = document.getElementById("expense").value;

			if(!order || !expense || expense == 0) {
				return alert("Please enter data before add")
			}

			//total_expense = total_expense + parseFloat(expense).toFixed(2);

			total_expense += parseFloat(expense);
			total_expense_text.innerText = total_expense.toFixed(2);

			total_order = total_order + 1;
			total_order_text.innerText = '(' + total_order + ')';

			let expense_order = document.getElementById("expense_order");
			if(total_order > 0) {
				if(total_order == 1) {
					expense_order.innerHTML = ''
				}
				expense_order.innerHTML += '<div><figcaption class="blockquote-footer">' + order + ' (  ฿' + parseFloat(expense).toFixed(2) + ' )' + '</figcaption></div>';
			} else {
				expense_order.innerHTML = '<div><figcaption class="blockquote-footer"><cite>No data added</cite></figcaption></div>'
			}

			document.getElementById("order").value = "";
			document.getElementById("expense").value = ""
		}
	</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</body>
</html>